---
const capitalise = (str) => {
  return str.charAt(0).toUpperCase() + str.slice(1);
};
const allBlogs = await Astro.glob("../pages/blog/*.mdx");
const nonDraftBlogs = allBlogs.filter((blog) => !blog.frontmatter.draft);
const uniqueSeries = [
  ...new Set(nonDraftBlogs.map((blog) => blog.frontmatter.series).flat()),
];
---

<ul>
  {
    uniqueSeries.map((series) => {
      let seriesURL = `/blog/series/${series}/1`;
      return (
        <li>
          <a class="series" href={seriesURL}>
            {capitalise(series)}
          </a>
        </li>
      );
    })
  }
</ul>
<style>
  ul {
    display: flex;
    flex-wrap: wrap;
    padding: 0;
    row-gap: 10px;
  }
  li {
    list-style: none;
    margin-right: 0.5rem;
    background-color: var(--light-grey);
  }
</style>
